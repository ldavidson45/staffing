<link rel="stylesheet" href="../static/css/employee_detail.css" />

{% extends 'base.html' %} {% block content %}


<section class="employee-show">
  <h2 class="employee-name">{{ employee.name }}</h2>
  <a href="{% url 'employee_edit' pk=employee.pk %}"
    >&nbsp;&nbsp;Edit employee info</a
  >
  <div class="employee-info-container">
    <div>
      <p class="label"><i class="fas fa-user-clock"></i>&nbsp;&nbsp;Status</p>
      <p class="detail-text">{{ employee.status }}</p>
    </div>
    <div>
      <p class="label">
        <i class="fas fa-address-card"></i>&nbsp;&nbsp;Current Role
      </p>
      <p class="detail-text">{{ employee.role }}</p>
    </div>
  </div>
  <table class="table">
    <tr>
      <th>Start Date</th>
      <th>End Date</th>
      <th>Position</th>
    </tr>

    {% for role in roles %}
    <tr>
      <td>{{ role.start_date }}</td>
      <td>{{ role.end_date }}</td>
      <td>{{ role.role_type }}</td>
      <td>
        <a href="{% url 'role_log_delete' pk=role.pk %}"
          ><i class="far fa-trash-alt"></i
        ></a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </td>
    </tr>
    {% endfor %}
  </table>

  <section class="new-role">
    <h5>Add A New Role:</h5>
    <form method="post">
      {% csrf_token %}

      <table class="table">
        <tr>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Position</th>
        </tr>
        <tr>
          <td>{{ form.start_date }}</td>
          <td>{{ form.end_date }}</td>
          <td>{{ form.role_type }}</td>
        </tr>
      </table>

      <button type="submit" class="form-button">Save</button>
    </form>
  </section>
</section>
<script>
  $(function() {
    $("#datetimepicker1").datetimepicker({
      format: "MM/DD/YYYY"
    });
  });
</script>

{% endblock %}
